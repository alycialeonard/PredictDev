Running randomized search...
Fitting 5 folds for each of 100 candidates, totalling 500 fits
- Best parameters: {'classifier__class_weight': 'balanced', 'classifier__max_depth': 12, 'classifier__max_features': 'log2', 'classifier__min_samples_leaf': 2, 'classifier__min_samples_split': 6, 'classifier__n_estimators': 615}
- Best CV weighted F1: 0.7290807860613713
Test accuracy with best params: 0.752
Train accuracy with best params: 0.988
Classification report:

              precision    recall  f1-score   support

           0       0.79      0.92      0.85       159
           1       0.48      0.22      0.30        51

    accuracy                           0.75       210
   macro avg       0.63      0.57      0.57       210
weighted avg       0.71      0.75      0.72       210

Confusion matrix:
 [[147  12]
 [ 40  11]]
Top 20 features by mean |SHAP|:
 01. remainder__Of these appliances which is the most valuable?_Mobile Phone  mean|shap|=1.571486e-02
 02. remainder__Have you ever experiences extreme rain_No  mean|shap|=9.695732e-03
 03. remainder__Have you ever experiences extreme rain_Yes  mean|shap|=6.651403e-03
 04. remainder__Generally speaking would say that most people can be trusted or that one can't be too careful in dealing with people?_One should trust but needs to be careful  mean|shap|=5.641614e-03
 05. remainder__Who would you contact in case of a flood?_Neighbour  mean|shap|=5.223289e-03
 06. remainder__Who would you contact in case of extreme rains?_Neighbour  mean|shap|=4.803046e-03
 07. remainder__Of these appliances which is the most valuable?_Radio  mean|shap|=4.107742e-03
 08. remainder__What is the electricity used for?_TV  mean|shap|=3.818277e-03
 09. remainder__Generally speaking would say that most people can be trusted or that one can't be too careful in dealing with people?_Most people can be trusted  mean|shap|=3.795390e-03
 10. num__Age of household head?  mean|shap|=3.654081e-03
 11. num__How long does it take you to travel to receive healthcare?  mean|shap|=3.622411e-03
 12. remainder__What is the electricity used for?_Lighting  mean|shap|=3.607908e-03
 13. num__How much money is spent on average during/after a catastrophic event to return to normality?  mean|shap|=3.567783e-03
 14. remainder__Have you ever experienced flooding in your home?_No  mean|shap|=3.410145e-03
 15. remainder__What is your main occupation?_Unemployed  mean|shap|=3.406327e-03
 16. num__What is the monthly total income of your household (KES)?  mean|shap|=3.331042e-03
 17. num__How many days are spent on average during/after a catastrophic event to return to normality?  mean|shap|=3.313564e-03
 18. remainder__How worried are you about climate change_I am very worried  mean|shap|=3.133713e-03
 19. remainder__Community well/borehole_Cooking  mean|shap|=2.955196e-03
 20. num__Household members over 55 years of age  mean|shap|=2.876753e-03
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
