Running randomized search...
Fitting 5 folds for each of 100 candidates, totalling 500 fits
- Best parameters: {'classifier__class_weight': 'balanced_subsample', 'classifier__max_depth': 12, 'classifier__max_features': 0.2, 'classifier__min_samples_leaf': 3, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 688}
- Best CV weighted F1: 0.8645410246172123
Test accuracy with best params: 0.819
Train accuracy with best params: 0.987
Classification report:

              precision    recall  f1-score   support

           0       0.86      0.91      0.88       158
           1       0.66      0.56      0.60        52

    accuracy                           0.82       210
   macro avg       0.76      0.73      0.74       210
weighted avg       0.81      0.82      0.81       210

Confusion matrix:
 [[143  15]
 [ 23  29]]
Top 20 features by mean |SHAP|:
 01. remainder__Which of the following items do you have access to in your daily life?_Borehole  mean|shap|=1.355489e-01
 02. remainder__What is your main water source?_River, Pond or Lake   mean|shap|=2.576555e-02
 03. remainder__Which of the following items do you have access to in your daily life?_Water  mean|shap|=2.335511e-02
 04. remainder__Community tap_Washing Clothes  mean|shap|=2.218756e-02
 05. remainder__Community tap_Cooking  mean|shap|=1.477326e-02
 06. remainder__What is your main water source?_Well or Borehole (manual pump)  mean|shap|=1.427753e-02
 07. num__What is the monthly total income of your household (KES)?  mean|shap|=1.360702e-02
 08. remainder__Which of the following items do you have access to in your daily life?_House  mean|shap|=1.184377e-02
 09. remainder__What is your main water source?_Community Tap  mean|shap|=1.142396e-02
 10. remainder__Community tap_Bathing  mean|shap|=1.124593e-02
 11. remainder__Who would you contact in case of a fire?_Firefighter  mean|shap|=9.641035e-03
 12. remainder__Which of the following items do you have access to in your daily life?_Mobile Phone  mean|shap|=8.113463e-03
 13. remainder__Where do you receive health care treatment?_In  your own village/town  mean|shap|=7.072079e-03
 14. remainder__Which of the following items do you have access to in your daily life?_Road  mean|shap|=6.654164e-03
 15. remainder__Rainwater Harvesting Tank_Cooking  mean|shap|=5.645387e-03
 16. remainder__What community organisation and/or social activity group you are part of?_Chama  mean|shap|=5.460283e-03
 17. remainder__Firewood_Lighting  mean|shap|=5.148683e-03
 18. remainder__How do you irrigate your land?_Rain Water Only  mean|shap|=4.938190e-03
 19. remainder__Sub-County Name_Turkana Central  mean|shap|=4.876113e-03
 20. num__How much money is spent on average during/after a catastrophic event to return to normality?  mean|shap|=4.728693e-03
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
