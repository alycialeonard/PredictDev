Running randomized search...
Fitting 5 folds for each of 100 candidates, totalling 500 fits
- Best parameters: {'classifier__class_weight': 'balanced_subsample', 'classifier__max_depth': None, 'classifier__max_features': 'log2', 'classifier__min_samples_leaf': 5, 'classifier__min_samples_split': 8, 'classifier__n_estimators': 721}
- Best CV weighted F1: 0.9171925772677977
Test accuracy with best params: 0.886
Train accuracy with best params: 0.957
Classification report:

              precision    recall  f1-score   support

           0       0.94      0.93      0.94       186
           1       0.50      0.54      0.52        24

    accuracy                           0.89       210
   macro avg       0.72      0.74      0.73       210
weighted avg       0.89      0.89      0.89       210

Confusion matrix:
 [[173  13]
 [ 11  13]]
Top 20 features by mean |SHAP|:
 01. remainder__What are the main 3 building materials used to build your house?_Grass thatched roof  mean|shap|=1.958410e-02
 02. remainder__County Name_Turkana (Kenya)  mean|shap|=1.545105e-02
 03. remainder__What is the main source of lighting?_Torch  mean|shap|=1.058120e-02
 04. remainder__What are the main 3 building materials used to build your house?_Corrugated iron sheets  mean|shap|=9.153702e-03
 05. remainder__County Name_Machakos (Kenya)  mean|shap|=9.148118e-03
 06. remainder__How do your mainly receive information about climate change_Radio TV  mean|shap|=8.989415e-03
 07. remainder__Firewood_Cooling  mean|shap|=8.865964e-03
 08. remainder__Firewood_Other appliances  mean|shap|=8.865307e-03
 09. remainder__Have you ever experienced flooding in your home?_No  mean|shap|=8.418187e-03
 10. remainder__How do you mainly receive political information?_Radio TV  mean|shap|=7.644828e-03
 11. remainder__Have you ever experienced flooding in your home?_Yes  mean|shap|=7.619755e-03
 12. remainder__How do you mainly receive information about health?_Radio  mean|shap|=7.133524e-03
 13. remainder__How do you mainly receive political information?_Word of mouth  mean|shap|=6.930441e-03
 14. remainder__How do your mainly receive information about climate change_Word of mouth  mean|shap|=6.091766e-03
 15. num__How much money is spent on average during/after a catastrophic event to return to normality?  mean|shap|=5.960214e-03
 16. remainder__What is the main source of electricity in your home?_National grid connection  mean|shap|=5.920656e-03
 17. remainder__What is the main source of lighting?_Grid Electric Light  mean|shap|=5.874782e-03
 18. num__What is the monthly total income of your household (KES)?  mean|shap|=5.691842e-03
 19. remainder__annotation_Transportation (of goods)  mean|shap|=5.194257e-03
 20. remainder__What are the main 3 building materials used to build your house?_Bricks  mean|shap|=5.065463e-03
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
