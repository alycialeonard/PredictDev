Running randomized search...
Fitting 5 folds for each of 100 candidates, totalling 500 fits
- Best parameters: {'classifier__class_weight': 'balanced', 'classifier__max_depth': None, 'classifier__max_features': 0.2, 'classifier__min_samples_leaf': 5, 'classifier__min_samples_split': 8, 'classifier__n_estimators': 737}
- Best CV weighted F1: 0.8508635973135894
Test accuracy with best params: 0.876
Train accuracy with best params: 0.989
Classification report:

              precision    recall  f1-score   support

           0       0.89      0.98      0.93       184
           1       0.50      0.15      0.24        26

    accuracy                           0.88       210
   macro avg       0.70      0.57      0.58       210
weighted avg       0.84      0.88      0.85       210

Confusion matrix:
 [[180   4]
 [ 22   4]]
Top 20 features by mean |SHAP|:
 01. remainder__What extreme climate event are you most worried about?_Drought  mean|shap|=5.269381e-02
 02. remainder__Sub-County Name_Turkana South  mean|shap|=2.956253e-02
 03. remainder__Do you treat the water to make it safer for drinking?_No  mean|shap|=2.068346e-02
 04. num__What is the monthly total income of your household (KES)?  mean|shap|=1.601998e-02
 05. remainder__What is the electricity used for?_TV  mean|shap|=1.075542e-02
 06. remainder__Do you treat the water to make it safer for drinking?_Yes  mean|shap|=1.067751e-02
 07. remainder__Community tap_Washing Clothes  mean|shap|=1.047918e-02
 08. remainder__Of these appliances which is the most valuable?_Mobile Phone  mean|shap|=9.760679e-03
 09. num__How many days are spent on average during/after a catastrophic event to return to normality?  mean|shap|=7.393722e-03
 10. remainder__Generally speaking would say that most people can be trusted or that one can't be too careful in dealing with people?_Most people can be trusted  mean|shap|=7.359599e-03
 11. remainder__How well connected do you feel within the community?_Connected  mean|shap|=6.988600e-03
 12. remainder__Which other environmental hazards affect you and your community_Stream Pollution  mean|shap|=6.897032e-03
 13. num__How much money is spent on average during/after a catastrophic event to return to normality?  mean|shap|=6.519247e-03
 14. remainder__annotation_Yield  mean|shap|=6.198034e-03
 15. num__Age of household head?  mean|shap|=6.174993e-03
 16. remainder__Sub-County Name_Yatta  mean|shap|=6.027630e-03
 17. remainder__How do your mainly receive information about climate change_Radio TV  mean|shap|=5.416313e-03
 18. remainder__Which of the following items do you have access to in your daily life?_Hospital  mean|shap|=5.266217e-03
 19. num__How long does it take you to travel to receive healthcare?  mean|shap|=4.980964e-03
 20. remainder__Rainwater Harvesting Tank_Watering Crops  mean|shap|=4.578225e-03
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
