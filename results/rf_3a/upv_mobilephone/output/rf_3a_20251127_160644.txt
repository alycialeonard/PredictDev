Running randomized search...
Fitting 5 folds for each of 100 candidates, totalling 500 fits
- Best parameters: {'classifier__class_weight': 'balanced', 'classifier__max_depth': 20, 'classifier__max_features': 0.2, 'classifier__min_samples_leaf': 3, 'classifier__min_samples_split': 2, 'classifier__n_estimators': 315}
- Best CV weighted F1: 0.7066376476077852
Test accuracy with best params: 0.729
Train accuracy with best params: 0.992
Classification report:

              precision    recall  f1-score   support

           0       0.73      0.74      0.74       108
           1       0.72      0.72      0.72       102

    accuracy                           0.73       210
   macro avg       0.73      0.73      0.73       210
weighted avg       0.73      0.73      0.73       210

Confusion matrix:
 [[80 28]
 [29 73]]
Top 20 features by mean |SHAP|:
 01. remainder__Which of the following items do you have access to in your daily life?_Mobile Phone  mean|shap|=8.445967e-02
 02. remainder__County Name_Turkana (Kenya)  mean|shap|=1.861348e-02
 03. remainder__annotation_Connection  mean|shap|=1.220605e-02
 04. remainder__Which of the following items do you have access to in your daily life?_House  mean|shap|=1.204638e-02
 05. num__What is the monthly total income of your household (KES)?  mean|shap|=1.110896e-02
 06. remainder__Which of the following items do you have access to in your daily life?_Furniture  mean|shap|=1.052865e-02
 07. remainder__Which of the following items do you have access to in your daily life?_Rainwater Harvesting System  mean|shap|=1.004629e-02
 08. remainder__Total household size  mean|shap|=8.354945e-03
 09. remainder__Which of the following items do you have access to in your daily life?_Gas Stove  mean|shap|=7.698609e-03
 10. remainder__How do you irrigate your land?_Rain Water Only  mean|shap|=7.368837e-03
 11. remainder__What is the main source of lighting?_Torch  mean|shap|=6.425448e-03
 12. remainder__Which of the following items do you have access to in your daily life?_School  mean|shap|=6.349986e-03
 13. remainder__Which of the following items do you have access to in your daily life?_Torch  mean|shap|=6.162269e-03
 14. remainder__What are the main 3 building materials used to build your house?_Wood  mean|shap|=5.875224e-03
 15. num__Age of household head?  mean|shap|=5.864358e-03
 16. num__Household members between 31 to 55 years of age  mean|shap|=5.852186e-03
 17. num__How much money is spent on average during/after a catastrophic event to return to normality?  mean|shap|=5.091089e-03
 18. num__How many days are spent on average during/after a catastrophic event to return to normality?  mean|shap|=4.906082e-03
 19. remainder__Do you treat the water to make it safer for drinking?_No  mean|shap|=4.769841e-03
 20. remainder__Which of the following items do you have access to in your daily life?_Donkey and Cart  mean|shap|=4.752597e-03
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
/Users/alycialeonard/miniforge3/envs/PredictDev/lib/python3.13/site-packages/shap/plots/_beeswarm.py:1150: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
